{"version":3,"sources":["scripts/app.js"],"names":["angular","module","constant","X","O","EMPTY","game","local","remote","login","getUser","multiplayer","VictoryModalCtrl","Game","self","this","resolve","winnerTeam","winner","team","$postLink","component","bindings","templateUrl","controller","controllerAs","$inject","multiplayerCtrl","$scope","ApiPath","UserService","$uibModal","PanelService","SocketService","$rootScope","user","$parent","$close","facebook","initSocket","openBoard","open","scope","chooseOpponent","opponent","users","opponentSocketId","getOpponentSocketFromValue","emit","userId","id","data","on","$apply","usersOnline","_","map","value","key","text","name","animation","backdrop","okCb","accepter","getSocketId","challenger","$emit","params","back","cb","loginCtrl","$timeout","TEAMS","ANIMATIONS","goTo","url","a","document","createElement","click","setAttribute","style","display","body","appendChild","window","location","teams","animations","openPanel","panel","then","resp","err","console","log","continueNotLogged","loginWithFacebook","localStorage","getItem","facebookAuth","confirmCtrl","ctrl","modalInstance","dismiss","cancelCb","ChooseTeamModalCtrl","choose","chooseTeam","close","boardCtrl","avatar","img","service","validParams","element","getElementsByClassName","headerCtrl","$compile","$element","handler","forward","triflixBoardCtrl","previous","$onInit","getStatus","index","copy","getOpponent","opponentMove","state","$doCheck","isEqual","makeMove","x","y","flatCoordinate","lockBoard","extend","victoryModal","result","dismissed","restart","error","panelContainerCtrl","$templateCache","$window","initWindow","width","innerWidth","documentElement","clientWidth","height","innerHeight","clientHeight","recalculateSize","panels","forEach","css","length","parent","$on","evt","elem","attr","template","get","append","newScope","$new","prototype","indexOf","splice","$destroy","leftPos","remove","push","homeController","svgIconDirective","svgIconService","ddo","link","attrs","$observe","icon","svg","getIcons","charAt","replaceWith","ICONS","X-icon","O-icon","directive","unwatch","children","removeClass","child","$","find","cell","$watch","newVal","iconEffect","addClass","toLowerCase","fn","modal","res","off","$http","method","TicTacToeWrapper","tictactoe","TicTacToe","TicTacToeBoard","aiPlayer","TicTacToeAIPlayer","aiTeam","oppositePlayer","initialize","move","Error","board","indexes","httpInterceptor","$location","request","config","auth","authHeader","headers","response","setItem","responseError","factory","TABLE_NR","$q","init","i","ticTacToeWrapper","AImove","deferred","defer","reject","promise","multiplayerMove","lastMove","aiMoveRemote","Content-Type","JSON","stringify","eval","g","socket","io","connect","clb","mapObject","socketId","myLastMove","$stateProvider","$urlRouterProvider","$httpProvider","defaults","withCredentials","interceptors","otherwise","run","put"],"mappings":"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","file":"scripts/app-3c648bff94.js","sourcesContent":[";(function(){\r\n  'use strict';\r\n\r\n  angular.module('triflix', [\r\n    'ui.router',\r\n    'ui.bootstrap'\r\n  ])\r\n  .constant('TEAMS',{\r\n    X: 'X',\r\n    O: 'O',\r\n    EMPTY: ''\r\n  })\r\n  .constant('ANIMATIONS', {\r\n    X: 'tada',\r\n    O: 'bounceIn'\r\n  })\r\n  .constant('ApiPath', {\r\n    game: {\r\n      local: 'http://127.0.0.1:8080/jerseybackend/rest/game',\r\n      remote: 'https://triflixbackend.herokuapp.com/rest/game'\r\n    },\r\n    login: {\r\n      local: 'http://localhost:3002/auth/facebook',\r\n      remote: 'https://triflixbe.herokuapp.com/auth/facebook'\r\n    },\r\n    getUser: {\r\n      local: 'http://127.0.0.1:3002/user',\r\n      remote: 'https://triflixbe.herokuapp.com/user'\r\n    },\r\n    multiplayer: {\r\n      local: 'http://localhost:3002',\r\n      remote: 'https://triflixbe.herokuapp.com'\r\n    }\r\n  })\r\n  .constant('TABLE_NR', 2);\r\n\r\n\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .component('victoryModal', {\r\n    bindings: {\r\n      resolve: '<'\r\n    },\r\n    templateUrl: 'app/components/panels/victory/victory.html',\r\n    controller: VictoryModalCtrl,\r\n    controllerAs: '$ctrl'\r\n  })\r\n\r\n  VictoryModalCtrl.$inject = ['Game'];\r\n\r\n  function VictoryModalCtrl(Game){\r\n    var self = this;\r\n\r\n    self.game = self.resolve.game;\r\n\r\n    /*if(self.game.winner.team === Game.TEAMS.X)\r\n      self.winnerImg = 'assets/images/x.png';\r\n    else\r\n      self.winnerImg = 'assets/images/o.png';\r\n    */\r\n    self.winnerTeam = self.game.winner.team;\r\n\r\n    self.$postLink = function(){\r\n\r\n    }\r\n\r\n  }\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .component('multiplayer', {\r\n    bindings: {\r\n    },\r\n    templateUrl: 'app/components/panels/multiplayer/multiplayer.html',\r\n    controller: multiplayerCtrl,\r\n    controllerAs: 'multiplayer'\r\n  });\r\n\r\n  multiplayerCtrl.$inject = ['$scope', 'ApiPath', 'UserService', '$uibModal', 'PanelService'\r\n  , 'SocketService', '$rootScope', 'PanelService'];\r\n\r\n  function multiplayerCtrl($scope, ApiPath, UserService, $uibModal, PanelService,\r\n    SocketService, $rootScope, PanelService){\r\n\r\n    var user = UserService.getUser();\r\n    if(!user) return $scope.$parent.$close(); //display you have to login to use this feature\r\n    if(!user.facebook) return $scope.$parent.$close();\r\n    //gestire timeout per connessione assente\r\n\r\n    var self = this;\r\n    SocketService.initSocket();\r\n\r\n    var openBoard = function(){\r\n      PanelService.open({\r\n        component: 'board',\r\n        scope: $scope\r\n      });\r\n    }\r\n\r\n    self.chooseOpponent = function(opponent){\r\n      if(self.users){\r\n        var opponentSocketId = SocketService.getOpponentSocketFromValue(opponent, self.users);\r\n        SocketService.emit('choose opponent', opponentSocketId);\r\n      }\r\n    }\r\n\r\n    SocketService.emit('add to room', {\r\n      userId: user.facebook.id,\r\n      data: user.facebook\r\n    });\r\n\r\n\r\n    SocketService.on('add to room', function(data){\r\n      $scope.$apply(function(){\r\n        self.users = data.users;\r\n        self.usersOnline = _.map(data.users, function(value, key){\r\n          return value;\r\n        })\r\n        self.usersOnline = [self.usersOnline[0], self.usersOnline[0], self.usersOnline[0], self.usersOnline[0]];\r\n      })\r\n    });\r\n\r\n    SocketService.on('challenge request', function(opponent){\r\n      var text = 'Challenge request from '+ opponent.opponent.data.name;\r\n      $uibModal.open({\r\n        animation: true,\r\n        component: 'confirm',\r\n        backdrop: 'static',\r\n        resolve: {\r\n          text: [function(){\r\n            return text;\r\n          }],\r\n          okCb: [function(){\r\n            return function(){\r\n              SocketService.emit('challenge accepted', {\r\n                accepter: SocketService.getSocketId(),\r\n                challenger: opponent.opponentSocketId\r\n              })\r\n              SocketService.chooseOpponent(opponent);\r\n              $rootScope.$emit('triflix.game.start');\r\n              openBoard();\r\n            }\r\n          }]\r\n        }\r\n      });\r\n    });\r\n\r\n    SocketService.on('challenge accepted', function(opponent){\r\n      SocketService.chooseOpponent(opponent);\r\n      $rootScope.$emit('triflix.game.start');\r\n      openBoard();\r\n    })\r\n\r\n    this.params = {\r\n      back: {\r\n        text: 'Back',\r\n        cb: function(){\r\n          $scope.$parent.$close();\r\n        }\r\n      }\r\n    };\r\n\r\n\r\n  }\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .component('login', {\r\n    bindings: {\r\n    },\r\n    templateUrl: 'app/components/panels/login/login.html',\r\n    controller: loginCtrl,\r\n    controllerAs: 'login'\r\n  });\r\n\r\n  loginCtrl.$inject = ['$scope', 'UserService', '$timeout', 'PanelService', 'TEAMS',\r\n  'ANIMATIONS', 'ApiPath'];\r\n\r\n  function loginCtrl($scope, UserService, $timeout, PanelService, TEAMS, ANIMATIONS,\r\n  ApiPath){\r\n    this.teams = TEAMS;\r\n    this.animations = ANIMATIONS;\r\n    var openPanel= function(panel){\r\n      PanelService.open({\r\n        component: panel,\r\n        scope: $scope\r\n      });\r\n    }\r\n\r\n    var getUser = function(panel){\r\n      UserService.user()\r\n      .then(function(resp){\r\n        this.user = resp.data;\r\n        if(panel)\r\n          $timeout(function(){\r\n            openPanel(panel);\r\n          }, 100);\r\n      }, function(err){\r\n        console.log(err);\r\n      })\r\n    }\r\n    getUser('multiplayer');\r\n    this.continueNotLogged = function(){\r\n      openPanel('board');\r\n    }\r\n\r\n    this.loginWithFacebook = function(){\r\n      if(window.localStorage.getItem('x-auth'))\r\n        getUser('multiplayer');\r\n      else\r\n        facebookAuth();\r\n    }\r\n\r\n    var facebookAuth = function(){\r\n      goTo(ApiPath.login.remote);\r\n    }\r\n\r\n    /*workaround per fare settare al browser l'header referer fondamentale al login\r\n    a node per fare il redirect corretto. con window.location non viene settato l'header referer*/\r\n    function goTo(url){\r\n      var a = document.createElement(\"a\");\r\n      if(!a.click) //for IE\r\n      {\r\n           window.location = url;\r\n           return;\r\n      }\r\n      a.setAttribute(\"href\", url);\r\n      a.style.display = \"none\";\r\n      document.body.appendChild(a);\r\n      a.click();\r\n    }\r\n  }\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .component('confirm', {\r\n    bindings: {\r\n      resolve: '<',\r\n      modalInstance: '<'\r\n    },\r\n    templateUrl: 'app/components/panels/confirm/confirm.html',\r\n    controller: confirmCtrl,\r\n    controllerAs: 'confirm'\r\n  });\r\n\r\n  confirmCtrl.$inject = ['$scope', 'UserService'];\r\n\r\n  function confirmCtrl($scope, UserService){\r\n    var ctrl = this;\r\n    var okCb = ctrl.resolve.okCb;\r\n    ctrl.resolve.okCb = function(){\r\n      ctrl.modalInstance.dismiss('cancel');\r\n      okCb();\r\n    }\r\n    ctrl.resolve.cancelCb = function(){\r\n      ctrl.modalInstance.dismiss('cancel');\r\n    }\r\n  }\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .component('chooseTeamModal', {\r\n    bindings: {\r\n      modalInstance: '<',\r\n      resolve: '<'\r\n    },\r\n    templateUrl: 'app/components/panels/choose-team/choose-team.html',\r\n    controller: ChooseTeamModalCtrl,\r\n    controllerAs: 'chooseTeam'\r\n  })\r\n\r\n  ChooseTeamModalCtrl.$inject = ['Game', 'TEAMS'];\r\n\r\n  function ChooseTeamModalCtrl(Game, TEAMS){\r\n    var self = this;\r\n    //self.images = Game.IMAGES;\r\n\r\n    self.teams = TEAMS;\r\n    self.choose = function(team){\r\n      Game.chooseTeam(team);\r\n      self.modalInstance.close(team);\r\n    }\r\n\r\n    self.$postLink = function(){\r\n\r\n    }\r\n  }\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .component('board', {\r\n    bindings: {\r\n    },\r\n    templateUrl: 'app/components/panels/board/board.html',\r\n    controller: boardCtrl,\r\n    controllerAs: 'board'\r\n  });\r\n\r\n  boardCtrl.$inject = ['PanelService', '$scope', '$timeout', 'UserService'];\r\n\r\n  function boardCtrl(PanelService, $scope, $timeout, UserService){\r\n\r\n    var user = UserService.getUser();\r\n    var open = function(){\r\n      PanelService.open({\r\n        component: 'multiplayer',\r\n        scope: $scope\r\n      });\r\n\r\n    }\r\n    var close = function(){\r\n      $scope.$parent.$close();\r\n    }\r\n\r\n    this.params = {\r\n      back: {\r\n        text: 'Back',\r\n        cb: close\r\n      },\r\n      avatar: {\r\n        url: user ?  (user.facebook.img || '') : ''\r\n      }\r\n    }\r\n  }\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .service('PanelService', ['$rootScope',\r\n  function($rootScope){\r\n\r\n    var panel = angular.element(document.getElementsByClassName(\"triflix-panel\")[0]);;\r\n\r\n\r\n    var validParams = function(params){\r\n      if(!params) return false;\r\n      return true;\r\n    }\r\n    this.open = function(params, scope){\r\n      if(!validParams(params)) return;\r\n\r\n      $rootScope.$emit('triflix.addpanel', params);\r\n\r\n\r\n    }\r\n\r\n\r\n  }])\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .component('triflixHeader', {\r\n    bindings: {\r\n      params: '<'\r\n    },\r\n    templateUrl: 'app/components/triflix-header/triflix-header.html',\r\n    controller: headerCtrl,\r\n    controllerAs: 'header'\r\n  });\r\n\r\n  headerCtrl.$inject = ['$compile', '$scope', '$element'];\r\n  var main = '<div class=\"col-xs-12\"></div>';\r\n  var back = '<div class=\"col-xs-3\"></div>';\r\n  var forward = '<div class=\"col-xs-3 col-xs-offset-6\"></div>';\r\n  var avatar;\r\n\r\n  function headerCtrl($compile, $scope, $element){\r\n\r\n    this.handler = {\r\n      back: this.params.back && this.params.back.cb || function(){},\r\n      forward: this.params.forward && this.params.forward.cb || function(){}\r\n    };\r\n    //this.avatar = this.params.avatar.url || 'assets/images/fb-profile.gif';\r\n    this.avatar = this.params.avatar && this.params.avatar.url;\r\n\r\n    /*this.$postLink = function(){\r\n      var mainEl = angular.element(main);\r\n      if(this.params.avatar){\r\n        back = forward = avatar = '<div class=\"col-xs-4\"></div>';\r\n      }\r\n\r\n      if(this.params.back){\r\n        var backEl = angular.element(back);\r\n        var btn = angular.element('<div class=\"btn btn-warning col-xs-6\"></div>');\r\n        btn.attr('ng-click', 'header.params.back.cb()');\r\n        btn.html(this.params.back.text);\r\n        backEl.append(btn);\r\n        mainEl.append(backEl);\r\n      }\r\n      if(this.params.avatar){\r\n        var avatarEl = angular.element(avatar);\r\n        avatarEl.addClass('text-center');\r\n        var img = angular.element('<img class=\"img-rounded\" width=64 height=32 />');\r\n        img.attr('src', this.params.avatar.url);\r\n        avatarEl.append(img);\r\n        //avatarEl.html(this.params.avatar.url);\r\n        mainEl.append(avatarEl);\r\n      }\r\n      if(this.params.forward){\r\n        var forwardEl = angular.element(forward);\r\n        var btn = angular.element('<div class=\"btn btn-warning col-xs-6 pull-right\"></div>');\r\n        btn.attr('ng-click', 'header.params.forward.cb()');\r\n        btn.html(this.params.forward.text);\r\n        forwardEl.append(btn);\r\n        mainEl.append(forwardEl);\r\n      }\r\n\r\n      $element.append($compile(mainEl)($scope));\r\n\r\n\r\n    }*/\r\n\r\n  }\r\n\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .component('triflixBoard', {\r\n    bindings: {\r\n      index: '@'\r\n    },\r\n    templateUrl: 'app/components/triflix-board/triflix-board.html',\r\n    controller: triflixBoardCtrl,\r\n    controllerAs: 'board'\r\n  });\r\n\r\n  triflixBoardCtrl.$inject = ['$element', '$compile', '$scope', 'Game',\r\n  '$rootScope', '$uibModal', 'TEAMS', 'SocketService'];\r\n\r\n  function triflixBoardCtrl($element, $compile, $scope, Game, $rootScope, $uibModal,\r\n    TEAMS, SocketService){\r\n    var game, previous, self = this;\r\n\r\n    this.$onInit = function(){\r\n      game = Game.getStatus()[this.index];\r\n      this.game = game;\r\n      previous = angular.copy(game);\r\n      if(SocketService.getOpponent()){\r\n        SocketService.on('make move', function(opponentMove){\r\n          $scope.$apply(function(){\r\n            game.state[opponentMove] = game.team === TEAMS.X ? TEAMS.O : TEAMS.X;\r\n          })\r\n        });\r\n      }\r\n    }\r\n    this.$doCheck = function(){\r\n      if(!_.isEqual(game.state, previous.state)){\r\n\r\n      }\r\n    }\r\n\r\n    this.makeMove = function(x, y){\r\n      var flatCoordinate = Game.flatCoordinate(x, y);\r\n      if(Game.lockBoard){\r\n        return;\r\n      }\r\n      if(game.state[flatCoordinate] === TEAMS.EMPTY){\r\n        game.state[flatCoordinate] = game.team;\r\n        Game.opponentMove(game, flatCoordinate)\r\n        .then(function(resp){\r\n          _.extend(game, resp.data);\r\n          if(game.winner.team){\r\n            $rootScope.$emit('triflix.game.victory');\r\n            var victoryModal = $uibModal.open({\r\n              animation: true,\r\n              component: 'victoryModal',\r\n              resolve: {\r\n                game: [function(){\r\n                  return self.game;\r\n                }]\r\n              }\r\n            })\r\n            victoryModal.result.catch(function(dismissed){\r\n              Game.restart();\r\n              $rootScope.$emit('triflix.game.start');\r\n            })\r\n          }\r\n\r\n        })\r\n        .catch(function(error){\r\n          console.log(error);\r\n        })\r\n      }\r\n    }\r\n\r\n\r\n    this.$postLink = function(){}\r\n\r\n\r\n  }\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .component('panelContainer', {\r\n    bindings: {\r\n    },\r\n    controller: panelContainerCtrl,\r\n    controllerAs: 'panel'\r\n  });\r\n\r\n  panelContainerCtrl.$inject = ['$element', '$scope', '$rootScope', '$templateCache', '$compile',\r\n   '$window', '$timeout'];\r\n\r\n  function panelContainerCtrl($element, $scope, $rootScope, $templateCache, $compile,\r\n    $window, $timeout){\r\n\r\n\r\n      var width, height, leftPos;\r\n\r\n      function initWindow(){\r\n        width = window.innerWidth\r\n        || document.documentElement.clientWidth\r\n        || document.body.clientWidth;\r\n\r\n        height = window.innerHeight\r\n        || document.documentElement.clientHeight\r\n        || document.body.clientHeight;\r\n      }\r\n      initWindow();\r\n\r\n      this.$onInit = function(){\r\n        $element.css('position', 'absolute');\r\n        $element.css('width', width);\r\n        $element.css('height', height);\r\n        $element.css('top', '0px');\r\n        $element.css('left', -width + 'px');\r\n      }\r\n\r\n      var panels = [];\r\n      $rootScope.$on('triflix.addpanel', function(evt, params){\r\n        var elem = angular.element('<div></div>');\r\n        elem.css('float', 'left');\r\n        elem.css('width', width);\r\n        elem.css('height', height);\r\n\r\n        if(params.controller ){\r\n          var ctrl = angular.element('<div></div>');\r\n          ctrl.attr('ng-controller', params.controller);\r\n          var template = $templateCache.get(params.templateUrl);\r\n          ctrl.append(angular.element(template));\r\n          elem.append(ctrl);\r\n        }\r\n        else if(params.component){\r\n          var component = '<' + params.component + '></' + params.component + '>';\r\n          elem.append(component);\r\n        }\r\n\r\n        var newScope = $rootScope.$new();\r\n        newScope.prototype = params.scope;\r\n        newScope.$close = function(){\r\n          var index = panels.indexOf(panel);\r\n\r\n          panels.splice(index, 1);\r\n          panel.scope().$destroy();\r\n\r\n\r\n          var leftPos = panels.length ? -width * (panels.length - 1) : 0;\r\n          /*$element.animate({\r\n            left: leftPos\r\n          }, 1000, function(){\r\n            $timeout(function(){\r\n              panel.remove();\r\n              $element.css('width', width * panels.length);\r\n            }, 3000);\r\n          });*/\r\n          $element.css('left', leftPos);\r\n          $timeout(function(){\r\n            panel.remove();\r\n            $element.css('width', width * panels.length);\r\n          }, 1000);\r\n\r\n        }\r\n        var panel = $compile(elem)(newScope);\r\n        panels.push(panel);\r\n\r\n        $element.parent().css('position', 'relative');\r\n        $element.parent().css('overflow-x', 'hidden');\r\n        $element.parent().css('width', width);\r\n        $element.parent().css('height', height);\r\n\r\n        $element.css('width', width * panels.length);\r\n        $element.append(panel);\r\n        var leftPos = -width * (panels.length - 1);\r\n        /*$element.animate({\r\n          left: leftPos\r\n        }, 1000);*/\r\n        $element.css('left', leftPos);\r\n\r\n      });\r\n\r\n      this.$postLink = function(){\r\n        angular.element($window).on('resize', recalculateSize);\r\n      }\r\n\r\n      function recalculateSize(){\r\n        initWindow();\r\n        panels.forEach(function(panel){\r\n          panel.css('height', height);\r\n          panel.css('width', width);\r\n        })\r\n\r\n        $element.css('height', height);\r\n        $element.css('width', width * panels.length);\r\n        $element.css('left', (- width * (panels.length - 1)));\r\n        $element.parent().css('height', height);\r\n        $element.parent().css('width', width);\r\n      }\r\n  }\r\n})();\r\n\n(function(){\r\n  'use strict';\r\n\r\n  angular.module('triflix')\r\n  .controller('HomeController', homeController);\r\n\r\n  homeController.$inject = ['$scope', 'PanelService', '$timeout'];\r\n\r\n  function homeController($scope, PanelService, $timeout){\r\n    $timeout(function(){\r\n      PanelService.open({\r\n        component: 'login',\r\n        scope: $scope\r\n      });\r\n    })\r\n\r\n  }\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .directive('svgIcon', svgIconDirective)\r\n  .service('svgIconService', svgIconService);\r\n\r\n  svgIconDirective.$inject = ['svgIconService', 'ANIMATIONS'];\r\n  svgIconService.$inject = [];\r\n\r\n\r\n  function svgIconDirective(svgIconService, ANIMATIONS){\r\n    var ddo = {\r\n      link: function(scope, elem, attrs){\r\n        attrs.$observe('svgIcon', function(icon){\r\n          var svg = svgIconService.getIcons()[icon];\r\n          if(svg){\r\n            svg = angular.element(svg);\r\n            svg.css('width', attrs.width ? attrs.width + 'px' : '64px');\r\n            var animation = ANIMATIONS[icon.charAt(0)];\r\n            svg.attr('class','animated '+animation);\r\n            elem.replaceWith(svg);\r\n          }\r\n        })\r\n      }\r\n    }\r\n    return ddo;\r\n  }\r\n\r\n  function svgIconService(){\r\n    var ICONS = {\r\n      'X-icon': \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><polygon fill='#DB9E36' fill-rule='nonzero' points='100 11.5399943 88.4595969 0 50.0001022 38.4599035 11.5404031 0 0 11.5399943 38.4596991 50.0001022 0 88.4595969 11.5406074 100 50.0001022 61.5403009 88.4595969 100 99.9997956 88.4595969 61.5403009 50.0001022'></polygon></svg>\",\r\n      'O-icon': \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle stroke='#DC3522' stroke-width='14' fill='transparent' cx='50' cy='50' r='43' /></svg>\"\r\n    }\r\n    this.getIcons = function(){\r\n      return ICONS;\r\n    }\r\n  }\r\n\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .directive('refreshBoard', ['$rootScope', function($rootScope){\r\n    var ddo = {\r\n      link: function(scope, elem, attrs){\r\n        /*remove all the classes and icons from the board everytime you start the game*/\r\n\r\n        var unwatch = $rootScope.$on('triflix.game.start', function(){\r\n          elem.children().removeClass('board__cell--selected board__cell--o board__cell--x');\r\n          angular.forEach(elem.children(), function(child){\r\n            $(child).find('.icon').remove();\r\n          })\r\n        })\r\n\r\n        scope.$on('$destroy', function(){\r\n          unwatch();\r\n        })\r\n      }\r\n    }\r\n    return ddo;\r\n  }])\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .directive('paintCell', ['Game', '$compile', 'ANIMATIONS',\r\n    function(Game, $compile, ANIMATIONS){\r\n    /*paint a single cell on the board*/\r\n    var ddo = {\r\n      scope: {\r\n        cell: '=paintCell',\r\n        game: '='\r\n      },\r\n      link: function(scope, elem, attrs){\r\n        var icon = angular.element('<span class=\"icon animated {{iconEffect}}\"></span>');\r\n\r\n        scope.$watch('cell', function(newVal){\r\n          if(!newVal) return;\r\n          scope.iconEffect = ANIMATIONS[scope.cell] || 'bounceIn';\r\n          elem.removeClass('board__cell--x board__cell--o');\r\n          elem.addClass('board__cell--selected board__cell--'+scope.cell.toLowerCase());\r\n          elem.append($compile(icon)(scope));\r\n\r\n        })\r\n\r\n\r\n      }\r\n    }\r\n    return ddo;\r\n  }])\r\n\r\n\r\n\r\n  /*.component('paintCell', {\r\n    bindings: {\r\n      cell: '<',\r\n      game: '<'\r\n    },\r\n    controller: paintCellCtrl,\r\n    controllerAs: 'paint'\r\n  });\r\n\r\n  paintCellCtrl.$inject = ['$element', '$compile', 'Game', '$rootScope', '$timeout', '$scope'];\r\n\r\n  function paintCellCtrl($element, $compile, Game, $rootScope, $timeout, $scope){\r\n\r\n    var previousVal = this.cell;\r\n    var self = this;\r\n    self.$doCheck = function(){\r\n      if(this.cell !== previousVal){\r\n        if(this.cell === Game.TEAMS.X){\r\n          $element.css('background-image', 'url('+Game.IMAGES.X+')');\r\n        } else if(this.cell === Game.TEAMS.O){\r\n          $element.css('background-image', 'url('+Game.IMAGES.O+')');\r\n        } else if(this.cell === Game.TEAMS.EMPTY){\r\n          $element.css('background-image', 'none');\r\n        }\r\n        previousVal = this.cell;\r\n      }\r\n    }\r\n\r\n    $rootScope.$on('triflix.game.victory', function(evt, data){\r\n      $timeout(function(){\r\n        $element.removeClass('animated pulse');\r\n      }, 100)\r\n      $timeout(function(){\r\n        $element.addClass('animated pulse');\r\n      },200)\r\n\r\n    })\r\n\r\n\r\n    self.$postLink = function(){\r\n\r\n      var overlayHtml =\r\n      '<div class=\"paintCell--overlay\">'+\r\n        '<div style=\"text-align: center; position: relative; width: 100%; height: 100%;\">'+\r\n          '<img class=\"paintCell--overlay--team\" alt=\"no image\" ng-src=\"{{paint.imgPath}}\"/>'+\r\n        '</div>'+\r\n      '</div>';\r\n\r\n      var overlayEl = angular.element(overlayHtml);\r\n\r\n      $element.on('mouseenter', function(){\r\n        if(!Game.lockBoard && self.cell === Game.TEAMS.EMPTY){\r\n          self.imgPath = Game.IMAGES[self.game.team];\r\n          $element.append($compile(overlayEl)($scope));\r\n        }\r\n      })\r\n\r\n      $element.on('mouseleave', function(){\r\n        if(!Game.lockBoard){\r\n          overlayEl.remove();\r\n        }\r\n      })\r\n\r\n    }\r\n\r\n  }*/\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .directive('lockBoard', ['$uibModal', 'Game', '$rootScope', function($uibModal, Game, $rootScope){\r\n\r\n    /*Lock the board until you choose a team through the ChooseTeam modal component*/\r\n\r\n    var ddo = {\r\n      link: function(scope, elem, attrs){\r\n        elem.on('click', fn);\r\n        function fn(evt){\r\n          var modal = $uibModal.open({\r\n            animation: true,\r\n            component: 'chooseTeamModal',\r\n            backdrop: 'static',\r\n            resolve: {}\r\n          });\r\n          modal.result.then(function(res){\r\n            elem.off('click', fn);\r\n            Game.lockBoard = false; //unlock board\r\n            $rootScope.$emit('triflix.game.start');\r\n          })\r\n          .catch(function(res){\r\n\r\n          })\r\n        }\r\n\r\n      }\r\n\r\n\r\n    }\r\n    return ddo;\r\n  }])\r\n\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .service('UserService', UserService);\r\n\r\n  UserService.$inject = ['$http', 'ApiPath'];\r\n\r\n  function UserService($http, ApiPath){\r\n\r\n    var user;\r\n\r\n    this.getUser = function(){\r\n      return user;\r\n    }\r\n\r\n\r\n    this.user = function(){\r\n      return $http({\r\n        method: 'GET',\r\n        url: ApiPath.getUser.remote,\r\n      }).then(function(resp){\r\n        if(!resp.data.error)\r\n          user = resp.data;\r\n        return resp;\r\n      }, function(err){\r\n        return err;\r\n      });\r\n    };\r\n  }\r\n})();\r\n\n;(function(){\r\n\r\n  function TicTacToeWrapper(){}\r\n\r\n  TicTacToeWrapper.prototype.makeMove = function(game){\r\n    var tictactoe = new TicTacToe.TicTacToeBoard(game.state);\r\n    var aiPlayer = new TicTacToe.TicTacToeAIPlayer();\r\n    var aiTeam = tictactoe.oppositePlayer(game.team);\r\n    aiPlayer.initialize(aiTeam, tictactoe);\r\n    var move = aiPlayer.makeMove();\r\n    if(move != null){\r\n      tictactoe.makeMove(aiTeam, move);\r\n    } else {\r\n      throw new Error('invalid move');\r\n    }\r\n    var winner = tictactoe.winner();\r\n    return {\r\n      data: {\r\n        team: game.team,\r\n        state: tictactoe.board,\r\n        winner: {\r\n          team: winner ? winner.cell : '',\r\n          indexes: winner ? winner.indexes : []\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  window.TicTacToeWrapper = TicTacToeWrapper;\r\n\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n    .factory('httpInterceptor', httpInterceptor);\r\n\r\n    httpInterceptor.$inject = ['$location'];\r\n    var authHeader = 'x-auth';\r\n    function httpInterceptor($location){\r\n      return {\r\n        request: function(config){\r\n          var auth = window.localStorage.getItem(authHeader);\r\n          if(auth)\r\n            config.headers[authHeader] = auth;\r\n          return config;\r\n        },\r\n        response: function(response){\r\n          var auth = response.headers()[authHeader];\r\n          if(auth)\r\n            window.localStorage.setItem(authHeader, auth);\r\n          return response;\r\n        },\r\n        responseError: function(response){\r\n          return response;\r\n        }\r\n      }\r\n    }\r\n\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .service('Game', Game);\r\n\r\n  Game.$inject = ['$http', 'TEAMS', 'TABLE_NR', '$timeout', 'ApiPath', '$q', 'SocketService'];\r\n\r\n  function Game($http, TEAMS, TABLE_NR, $timeout, ApiPath, $q, SocketService){\r\n\r\n    var ticTacToeWrapper = new TicTacToeWrapper(); //wrapper for tictactoeAI.js\r\n    var game = [];\r\n\r\n    function init(){\r\n      for(var i = 0; i < TABLE_NR; i++){\r\n        game[i] = {};\r\n        game[i].team = TEAMS.X; //default team\r\n        game[i].state = ['','','','','','','','',''];\r\n        game[i].winner = {};\r\n      }\r\n    }\r\n    init();\r\n\r\n    this.lockBoard = true;\r\n\r\n    this.getStatus = function(){\r\n      return game;\r\n    }\r\n\r\n\r\n    var AImove = function(game){\r\n      var deferred = $q.defer();\r\n      $timeout(function(){\r\n        try{\r\n          var result = ticTacToeWrapper.makeMove(game);\r\n          deferred.resolve(result);\r\n        }\r\n        catch(error){\r\n          deferred.reject(error);\r\n        }\r\n      })\r\n      return deferred.promise;\r\n    }\r\n\r\n    var multiplayerMove = function(game, lastMove){\r\n      return SocketService.makeMove(game, lastMove);\r\n    }\r\n    this.opponentMove = function(game, lastMove){\r\n      if(SocketService.getOpponent()){\r\n        return multiplayerMove(game, lastMove);\r\n      } else{\r\n        return AImove(game);\r\n      }\r\n\r\n    }\r\n\r\n    /*unused*/\r\n    this.aiMoveRemote = function(){\r\n      return $http({\r\n        url: ApiPath.game.remote,\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json' //request\r\n        },\r\n        data: JSON.stringify(eval(game))\r\n      });\r\n    }\r\n    this.restart = function(){\r\n      game.forEach(function(g){\r\n        g.state = ['','','','','','','','',''];\r\n        g.winner = {};\r\n      })\r\n\r\n    }\r\n\r\n    this.chooseTeam = function(team){\r\n      game.forEach(function(g){\r\n        g.team = team;\r\n      })\r\n    }\r\n\r\n    this.flatCoordinate = function(x, y){\r\n      return x + (y * 3);\r\n    }\r\n  }\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .service('SocketService', SocketService);\r\n\r\n  SocketService.$inject = ['ApiPath', '$timeout', '$q', 'TEAMS', '$rootScope'];\r\n\r\n  function SocketService(ApiPath, $timeout, $q, TEAMS, $rootScope){\r\n\r\n    var socket, opponent;\r\n    this.initSocket = function(){\r\n      if(!window.io)\r\n        return console.log('socket.io not loaded');\r\n      if(!socket){\r\n        socket = io.connect(ApiPath.multiplayer.remote);\r\n        this.on('disconnect', function(){\r\n          socket = null;\r\n        })\r\n      }\r\n    }\r\n    this.emit = function(evt, data){\r\n      socket.emit(evt, data);\r\n    }\r\n    this.on = function(evt, clb){\r\n      socket.on(evt, clb);\r\n    }\r\n    this.getSocketId = function(){\r\n        return socket.id;\r\n    }\r\n    this.chooseOpponent = function(challenger){\r\n      opponent = challenger;\r\n    }\r\n\r\n    this.getOpponentSocketFromValue = function(opponent, users){\r\n      var opponentSocketId = -1;\r\n      _.mapObject(users, function(user, socketId){\r\n        if(user.userId === opponent.userId)\r\n          opponentSocketId = socketId;\r\n      });\r\n      return opponentSocketId;\r\n    }\r\n\r\n    this.getOpponent = function(){\r\n      return opponent;\r\n    }\r\n\r\n    this.makeMove = function(game, myLastMove){\r\n      var deferred = $q.defer();\r\n      socket.emit('make move', {move: myLastMove, opponent: opponent});\r\n      deferred.resolve({data: game});\r\n      /*socket.on('make move', function(opponentMove){\r\n        $rootScope.$apply(function(){\r\n          game.state[opponentMove] = game.team === TEAMS.X ? TEAMS.O : TEAMS.X;\r\n          deferred.resolve({data: game});\r\n        })\r\n      })*/\r\n      return deferred.promise;\r\n    }\r\n\r\n\r\n  }\r\n})();\r\n\n;(function(){\r\n  angular.module('triflix')\r\n  .config(config);\r\n\r\n  config.$inject = ['$stateProvider', '$urlRouterProvider', '$httpProvider'];\r\n  function config($stateProvider, $urlRouterProvider, $httpProvider){\r\n    $httpProvider.defaults.withCredentials = true;\r\n    $httpProvider.interceptors.push('httpInterceptor');\r\n\r\n    $stateProvider\r\n      .state('home', {\r\n        url: '/',\r\n        templateUrl: 'app/home/home.html',\r\n        controller: 'HomeController as homeCtrl'\r\n      });\r\n\r\n    $urlRouterProvider.otherwise('/');\r\n  }\r\n})();\r\n\nangular.module(\"triflix\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/home/home.html\",\"<div class=panelParent><panel-container class=panel-container></panel-container></div><!--\\r\\n\\r\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" style=\\\"display: none\\\">\\r\\n\\r\\n  <symbol id=\\\"o\\\" viewBox=\\\"0 0 100 100\\\">\\r\\n    <circle cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"43\\\" />\\r\\n  </symbol>\\r\\n\\r\\n  <symbol id=\\\"x\\\" viewbox=\\\"0 0 100 100\\\">\\r\\n    <polygon fill-rule=\\\"nonzero\\\" points=\\\"100 11.5399943 88.4595969 0 50.0001022 38.4599035 11.5404031 0 0 11.5399943 38.4596991 50.0001022 0 88.4595969 11.5406074 100 50.0001022 61.5403009 88.4595969 100 99.9997956 88.4595969 61.5403009 50.0001022\\\"></polygon>\\r\\n  </symbol>\\r\\n\\r\\n</svg>\\r\\n\\r\\n-->\");\n$templateCache.put(\"app/components/triflix-board/triflix-board.html\",\"<div class=col-sm-12><div class=header><h1>TicTacToe</h1><p>Cras ultricies ligula sed magna dictum porta.</p></div></div><div lock-board><div class=board refresh-board><div ng-click=board.makeMove(0,0) paint-cell=board.game.state[0] game=board.game class=\\\"board__cell board__cell--selected board__cell--o\\\"><span class=\\\"icon animated bounceIn\\\"></span></div><div ng-click=board.makeMove(0,1) paint-cell=board.game.state[3] game=board.game class=board__cell></div><div ng-click=board.makeMove(0,2) paint-cell=board.game.state[6] game=board.game class=\\\"board__cell board__cell--selected board__cell--x\\\"><span class=\\\"icon animated tada\\\"></span></div><div ng-click=board.makeMove(1,0) paint-cell=board.game.state[1] game=board.game class=board__cell></div><div ng-click=board.makeMove(1,1) paint-cell=board.game.state[4] game=board.game class=board__cell></div><div ng-click=board.makeMove(1,2) paint-cell=board.game.state[7] game=board.game class=board__cell></div><div ng-click=board.makeMove(2,0) paint-cell=board.game.state[2] game=board.game class=board__cell></div><div ng-click=board.makeMove(2,1) paint-cell=board.game.state[5] game=board.game class=board__cell></div><div ng-click=board.makeMove(2,2) paint-cell=board.game.state[8] game=board.game class=board__cell></div></div></div>\");\n$templateCache.put(\"app/components/triflix-header/triflix-header.html\",\"<div class=\\\"col-sm-12 triflix-header\\\"><div class=\\\"col-xs-4 triflix-header--button\\\" ng-click=header.handler.back() ng-show=header.params.back><i class=\\\"fa fa-arrow-left\\\" aria-hidden=true></i> <span>Back</span></div><div class=\\\"col-xs-4 text-center\\\"><img ng-show=header.avatar ng-src={{header.avatar}} width=32 height=24 class=img-circle alt=\\\"no img\\\"></div><div class=\\\"col-xs-4 triflix-header--button\\\" ng-click=header.handler.forward() ng-show=header.params.forward><div class=pull-right><i class=\\\"fa fa-arrow-right\\\" aria-hidden=true></i> <span>Forward</span></div></div></div>\");\n$templateCache.put(\"app/components/panels/choose-team/choose-team.html\",\"<div class=triflix-modal><div class=triflix-modal--header><h3 class=triflix-modal--title>Choose a team</h3></div><div class=triflix-modal--body><div ng-repeat=\\\"team in chooseTeam.teams\\\" ng-click=chooseTeam.choose(team)><span svg-icon={{team}}-icon width=64></span></div></div></div>\");\n$templateCache.put(\"app/components/panels/board/board.html\",\"<triflix-header params=board.params ng-if=board.params></triflix-header><triflix-board class=col-sm-12 index=0></triflix-board>\");\n$templateCache.put(\"app/components/panels/confirm/confirm.html\",\"<div class=\\\"triflix-modal row\\\"><div class=\\\"triflix-modal--header col-sm-12\\\"><h3 class=triflix-modal--header--title>Heading</h3></div><div class=\\\"triflix-modal--body col-sm-12\\\"><h2>{{confirm.resolve.text}}</h2><button class=\\\"col-sm-3 col-sm-offset-3 btn btn-success\\\" ng-click=confirm.resolve.okCb()>Ok</button> <button class=\\\"col-sm-3 btn btn-danger\\\" ng-click=confirm.resolve.cancelCb()>Cancel</button></div></div>\");\n$templateCache.put(\"app/components/panels/multiplayer/multiplayer.html\",\"<triflix-header params=multiplayer.params></triflix-header><div class=\\\"container multiplayer\\\"><div class=row><div class=col-sm-12><h1>Multiplayer</h1></div></div><div class=row><div class=\\\"col-sm-6 multiplayer--box\\\" ng-repeat=\\\"user in multiplayer.usersOnline\\r\\n    track by $index\\\" ng-click=multiplayer.chooseOpponent(user)><div class=card><img ng-src={{user.data.img}} alt=\\\"no img\\\" class=card__img> <span class=multiplayer--name class=card__name>{{user.data.name}}</span> <button class=card__cta>Invite</button></div></div></div></div>\");\n$templateCache.put(\"app/components/panels/login/login.html\",\"<div class=\\\"container login\\\"><div class=row><div class=\\\"col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-4 text-center\\\"><div ng-repeat=\\\"team in login.teams\\\" style=\\\"display: inline\\\"><span svg-icon={{team}}-icon width=64></span></div></div></div><div class=row style=\\\"margin-top: 30px\\\" ng-click=login.continueNotLogged()><div class=\\\"col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-4 text-center login--button login--button--local\\\">Local game</div></div><div class=\\\"row login--button\\\"><div class=\\\"col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-4 text-center login--button login--button--facebook\\\" ng-click=login.loginWithFacebook()>Multiplayer game <a class=\\\"btn btn-social-icon btn-facebook\\\" style=\\\"height: 32px\\\"><span class=\\\"fa fa-facebook\\\"></span></a></div></div><div class=\\\"row login--button\\\"><div class=\\\"col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-4 text-center login--button login--button--realtime\\\">realtime game</div></div></div><!--\\r\\nhttp://localhost:3002/auth/facebook\\r\\nhttps://triflixbe.herokuapp.com/auth/facebook\\r\\n-->\");\n$templateCache.put(\"app/components/panels/victory/victory.html\",\"<div class=triflix-modal><div class=triflix-modal--header><h3 class=triflix-modal--title>We have a winner</h3></div><div class=triflix-modal--body>Player <span svg-icon={{$ctrl.winnerTeam}}-icon width=32></span> win the game</div></div><!--<div class=\\\"modal-header\\\">\\r\\n    <h3 class=\\\"modal-title\\\" id=\\\"modal-title\\\">I\\'m a modal!</h3>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\" id=\\\"modal-body\\\">\\r\\n    <ul>\\r\\n        <li ng-repeat=\\\"item in $ctrl.items\\\">\\r\\n            <a href=\\\"#\\\" ng-click=\\\"$event.preventDefault(); $ctrl.selected.item = item\\\">{{ item }}</a>\\r\\n        </li>\\r\\n    </ul>\\r\\n    Selected: <b>{{ $ctrl.selected.item }}</b>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\">\\r\\n    <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.ok()\\\">OK</button>\\r\\n    <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.cancel()\\\">Cancel</button>\\r\\n</div>-->\");}]);"],"sourceRoot":"/source/"}