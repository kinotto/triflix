{"version":3,"sources":["scripts/app.js"],"names":["angular","module","constant","X","O","EMPTY","IMPOSSIBLE","label","errors","MEDIUM","EASY","game","local","remote","login","getUser","multiplayer","settingsCtrl","$scope","TEAMS","LEVELS","GameSettings","self","this","teams","levels","applySetting","key","value","setTeam","setLevel","params","back","text","cb","$parent","$close","component","bindings","templateUrl","controller","controllerAs","$inject","multiplayerCtrl","ApiPath","UserService","$uibModal","PanelService","SocketService","$rootScope","user","facebook","initSocket","openBoard","open","scope","chooseOpponent","opponent","users","opponentSocketId","getOpponentSocketFromValue","emit","userId","id","data","on","$apply","usersOnline","_","map","name","animation","backdrop","resolve","okCb","accepter","getSocketId","challenger","$emit","loginCtrl","$timeout","ANIMATIONS","goTo","url","a","document","createElement","click","setAttribute","style","display","body","appendChild","window","location","animations","openPanel","panel","then","resp","err","console","log","continueNotLogged","loginWithFacebook","localStorage","getItem","facebookAuth","openSettings","boardCtrl","close","avatar","img","VictoryModalCtrl","Game","winner","$postLink","confirmCtrl","ctrl","modalInstance","dismiss","cancelCb","ChooseTeamModalCtrl","choose","team","chooseTeam","service","validParams","element","getElementsByClassName","headerCtrl","$compile","$element","handler","forward","triflixBoardCtrl","$onInit","userMove","lockBoard","reset","getStatus","getOpponent","opponentMove","state","makeMove","x","y","flatCoordinate","extend","openModal","dismissed","error","message","callback","modal","result","index","panelContainerCtrl","$templateCache","$window","initWindow","width","innerWidth","documentElement","clientWidth","height","innerHeight","clientHeight","recalculateSize","panels","forEach","css","length","parent","$on","evt","elem","attr","template","get","append","newScope","$new","prototype","indexOf","splice","$destroy","leftPos","remove","push","homeController","svgIconDirective","svgIconService","ddo","link","attrs","$observe","icon","svg","getIcons","charAt","replaceWith","ICONS","X-icon","O-icon","directive","option","isEqual","getSettings","addClass","options","siblings","removeClass","unwatch","children","child","$","find","cell","$watch","newVal","iconEffect","toLowerCase","fn","off","$http","method","factory","tictactoe","TicTacToe","TicTacToeBoard","aiPlayer","TicTacToeAIPlayer","aiTeam","oppositePlayer","initialize","level","randomCell","getRandomCell","board","move","Error","indexes","found","random","httpInterceptor","$location","request","config","auth","authHeader","headers","response","setItem","responseError","persistSettings","toJson","settings","fetchSettings","fetchedSettings","fromJson","sound","toUpperCase","$q","TicTacToeWrapper","ticTacToeWrapper","AImove","deferred","defer","hasEmptySlots","reject","promise","multiplayerMove","lastMove","foundOne","undefined","socket","io","connect","clb","mapObject","socketId","myLastMove","$stateProvider","$urlRouterProvider","$httpProvider","defaults","withCredentials","interceptors","otherwise","run","put"],"mappings":"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","file":"scripts/app-cd90fe3cfc.js","sourcesContent":[";(function(){\n  'use strict';\n\n  angular.module('triflix', [\n    'ui.router',\n    'ui.bootstrap'\n  ])\n  .constant('TEAMS',{\n    X: 'X',\n    O: 'O',\n    EMPTY: ''\n  })\n  .constant('ANIMATIONS', {\n    X: 'tada',\n    O: 'bounceIn'\n  })\n  .constant('LEVELS', {\n    IMPOSSIBLE: {\n      label: 'Hard',\n      errors: 0\n    },\n    MEDIUM: {\n      label: 'Medium',\n      errors: 1\n    },\n    EASY: {\n      label: 'Easy',\n      errors: 2\n    }\n  })\n  .constant('ApiPath', {\n    game: {\n      local: 'http://127.0.0.1:8080/jerseybackend/rest/game',\n      remote: 'https://triflixbackend.herokuapp.com/rest/game'\n    },\n    login: {\n      local: 'http://localhost:3002/auth/facebook',\n      remote: 'https://triflixbe.herokuapp.com/auth/facebook'\n    },\n    getUser: {\n      local: 'http://127.0.0.1:3002/user',\n      remote: 'https://triflixbe.herokuapp.com/user'\n    },\n    multiplayer: {\n      local: 'http://localhost:3002',\n      remote: 'https://triflixbe.herokuapp.com'\n    }\n  })\n\n\n})();\n\n;(function(){\n  angular.module('triflix')\n  .component('settings', {\n    bindings: {\n    },\n    templateUrl: 'app/components/panels/settings/settings.html',\n    controller: settingsCtrl,\n    controllerAs: 'settings'\n  });\n\n  settingsCtrl.$inject = ['$scope', 'TEAMS', 'LEVELS', 'GameSettings'];\n\n  function settingsCtrl($scope, TEAMS, LEVELS, GameSettings){\n    var self = this;\n    self.teams = TEAMS;\n    self.levels = LEVELS;\n\n    self.applySetting= function(key, value){\n      if(key === 'team')\n        GameSettings.setTeam(value);\n      if(key === 'level')\n        GameSettings.setLevel(value);\n    }\n\n    self.params = {\n      back: {\n        text: 'Back',\n        cb: function(){\n          $scope.$parent.$close();\n        }\n      }\n    };\n\n\n  }\n})();\n\n;(function(){\n  angular.module('triflix')\n  .component('multiplayer', {\n    bindings: {\n    },\n    templateUrl: 'app/components/panels/multiplayer/multiplayer.html',\n    controller: multiplayerCtrl,\n    controllerAs: 'multiplayer'\n  });\n\n  multiplayerCtrl.$inject = ['$scope', 'ApiPath', 'UserService', '$uibModal', 'PanelService'\n  , 'SocketService', '$rootScope', 'PanelService'];\n\n  function multiplayerCtrl($scope, ApiPath, UserService, $uibModal, PanelService,\n    SocketService, $rootScope, PanelService){\n\n    var user = UserService.getUser();\n    if(!user) return $scope.$parent.$close(); //display you have to login to use this feature\n    if(!user.facebook) return $scope.$parent.$close();\n    //gestire timeout per connessione assente\n\n    var self = this;\n    SocketService.initSocket();\n\n    var openBoard = function(){\n      PanelService.open({\n        component: 'board',\n        scope: $scope\n      });\n    }\n\n    self.chooseOpponent = function(opponent){\n      if(self.users){\n        var opponentSocketId = SocketService.getOpponentSocketFromValue(opponent, self.users);\n        SocketService.emit('choose opponent', opponentSocketId);\n      }\n    }\n\n    SocketService.emit('add to room', {\n      userId: user.facebook.id,\n      data: user.facebook\n    });\n\n\n    SocketService.on('add to room', function(data){\n      $scope.$apply(function(){\n        self.users = data.users;\n        self.usersOnline = _.map(data.users, function(value, key){\n          return value;\n        })\n        self.usersOnline = [self.usersOnline[0], self.usersOnline[0], self.usersOnline[0], self.usersOnline[0]];\n      })\n    });\n\n    SocketService.on('challenge request', function(opponent){\n      var text = 'Challenge request from '+ opponent.opponent.data.name;\n      $uibModal.open({\n        animation: true,\n        component: 'confirm',\n        backdrop: 'static',\n        resolve: {\n          text: [function(){\n            return text;\n          }],\n          okCb: [function(){\n            return function(){\n              SocketService.emit('challenge accepted', {\n                accepter: SocketService.getSocketId(),\n                challenger: opponent.opponentSocketId\n              })\n              SocketService.chooseOpponent(opponent);\n              $rootScope.$emit('triflix.game.start');\n              openBoard();\n            }\n          }]\n        }\n      });\n    });\n\n    SocketService.on('challenge accepted', function(opponent){\n      SocketService.chooseOpponent(opponent);\n      $rootScope.$emit('triflix.game.start');\n      openBoard();\n    })\n\n    this.params = {\n      back: {\n        text: 'Back',\n        cb: function(){\n          $scope.$parent.$close();\n        }\n      }\n    };\n\n\n  }\n})();\n\n;(function(){\n  angular.module('triflix')\n  .component('login', {\n    bindings: {\n    },\n    templateUrl: 'app/components/panels/login/login.html',\n    controller: loginCtrl,\n    controllerAs: 'login'\n  });\n\n  loginCtrl.$inject = ['$scope', 'UserService', '$timeout', 'PanelService', 'TEAMS',\n  'ANIMATIONS', 'ApiPath'];\n\n  function loginCtrl($scope, UserService, $timeout, PanelService, TEAMS, ANIMATIONS,\n  ApiPath){\n    this.teams = TEAMS;\n    this.animations = ANIMATIONS;\n    var openPanel= function(panel){\n      PanelService.open({\n        component: panel,\n        scope: $scope\n      });\n    }\n\n    var getUser = function(panel){\n      UserService.user()\n      .then(function(resp){\n        this.user = resp.data;\n        if(panel)\n          $timeout(function(){\n            openPanel(panel);\n          }, 100);\n      }, function(err){\n        console.log(err);\n      })\n    }\n    //getUser('multiplayer');\n\n    this.continueNotLogged = function(){\n      openPanel('board');\n    }\n\n    this.loginWithFacebook = function(){\n      if(window.localStorage.getItem('x-auth'))\n        getUser('multiplayer');\n      else\n        facebookAuth();\n    }\n\n    this.openSettings = function(){\n      openPanel('settings');\n    }\n\n    var facebookAuth = function(){\n      goTo(ApiPath.login.remote);\n    }\n\n    /*workaround per fare settare al browser l'header referer fondamentale al login\n    a node per fare il redirect corretto. con window.location non viene settato l'header referer*/\n    function goTo(url){\n      var a = document.createElement(\"a\");\n      if(!a.click) //for IE\n      {\n           window.location = url;\n           return;\n      }\n      a.setAttribute(\"href\", url);\n      a.style.display = \"none\";\n      document.body.appendChild(a);\n      a.click();\n    }\n  }\n})();\n\n;(function(){\n  angular.module('triflix')\n  .component('board', {\n    bindings: {\n    },\n    templateUrl: 'app/components/panels/board/board.html',\n    controller: boardCtrl,\n    controllerAs: 'board'\n  });\n\n  boardCtrl.$inject = ['PanelService', '$scope', '$timeout', 'UserService'];\n\n  function boardCtrl(PanelService, $scope, $timeout, UserService){\n\n    var user = UserService.getUser();\n    var open = function(){\n      PanelService.open({\n        component: 'multiplayer',\n        scope: $scope\n      });\n\n    }\n    var close = function(){\n      $scope.$parent.$close();\n    }\n\n    this.params = {\n      back: {\n        text: 'Back',\n        cb: close\n      },\n      avatar: {\n        url: user ?  (user.facebook.img || '') : ''\n      }\n    }\n  }\n})();\n\n;(function(){\n  angular.module('triflix')\n  .component('victoryModal', {\n    bindings: {\n      resolve: '<'\n    },\n    templateUrl: 'app/components/modals/victory/victory.html',\n    controller: VictoryModalCtrl,\n    controllerAs: '$ctrl'\n  })\n\n  VictoryModalCtrl.$inject = ['Game'];\n\n  function VictoryModalCtrl(Game){\n    var self = this;\n\n    self.game = self.resolve.game;\n\n    /*if(self.game.winner.team === Game.TEAMS.X)\n      self.winnerImg = 'assets/images/x.png';\n    else\n      self.winnerImg = 'assets/images/o.png';\n    */\n    self.winner = self.game.winner;\n\n    self.$postLink = function(){\n\n    }\n\n  }\n})();\n\n;(function(){\n  angular.module('triflix')\n  .component('confirm', {\n    bindings: {\n      resolve: '<',\n      modalInstance: '<'\n    },\n    templateUrl: 'app/components/modals/confirm/confirm.html',\n    controller: confirmCtrl,\n    controllerAs: 'confirm'\n  });\n\n  confirmCtrl.$inject = ['$scope', 'UserService'];\n\n  function confirmCtrl($scope, UserService){\n    var ctrl = this;\n    var okCb = ctrl.resolve.okCb;\n    ctrl.resolve.okCb = function(){\n      ctrl.modalInstance.dismiss('cancel');\n      okCb();\n    }\n    ctrl.resolve.cancelCb = function(){\n      ctrl.modalInstance.dismiss('cancel');\n    }\n  }\n})();\n\n;(function(){\n  angular.module('triflix')\n  .component('chooseTeamModal', {\n    bindings: {\n      modalInstance: '<',\n      resolve: '<'\n    },\n    templateUrl: 'app/components/modals/choose-team/choose-team.html',\n    controller: ChooseTeamModalCtrl,\n    controllerAs: 'chooseTeam'\n  })\n\n  ChooseTeamModalCtrl.$inject = ['Game', 'TEAMS'];\n\n  function ChooseTeamModalCtrl(Game, TEAMS){\n    var self = this;\n    //self.images = Game.IMAGES;\n\n    self.teams = TEAMS;\n    self.choose = function(team){\n      Game.chooseTeam(team);\n      self.modalInstance.close(team);\n    }\n\n    self.$postLink = function(){\n\n    }\n  }\n})();\n\n;(function(){\n  angular.module('triflix')\n  .service('PanelService', ['$rootScope',\n  function($rootScope){\n\n    var panel = angular.element(document.getElementsByClassName(\"triflix-panel\")[0]);;\n\n\n    var validParams = function(params){\n      if(!params) return false;\n      return true;\n    }\n    this.open = function(params, scope){\n      if(!validParams(params)) return;\n\n      $rootScope.$emit('triflix.addpanel', params);\n\n\n    }\n\n\n  }])\n})();\n\n;(function(){\n  angular.module('triflix')\n  .component('triflixHeader', {\n    bindings: {\n      params: '<'\n    },\n    templateUrl: 'app/components/triflix-header/triflix-header.html',\n    controller: headerCtrl,\n    controllerAs: 'header'\n  });\n\n  headerCtrl.$inject = ['$compile', '$scope', '$element'];\n  var main = '<div class=\"col-xs-12\"></div>';\n  var back = '<div class=\"col-xs-3\"></div>';\n  var forward = '<div class=\"col-xs-3 col-xs-offset-6\"></div>';\n  var avatar;\n\n  function headerCtrl($compile, $scope, $element){\n\n    this.handler = {\n      back: this.params.back && this.params.back.cb || function(){},\n      forward: this.params.forward && this.params.forward.cb || function(){}\n    };\n    //this.avatar = this.params.avatar.url || 'assets/images/fb-profile.gif';\n    this.avatar = this.params.avatar && this.params.avatar.url;\n\n    /*this.$postLink = function(){\n      var mainEl = angular.element(main);\n      if(this.params.avatar){\n        back = forward = avatar = '<div class=\"col-xs-4\"></div>';\n      }\n\n      if(this.params.back){\n        var backEl = angular.element(back);\n        var btn = angular.element('<div class=\"btn btn-warning col-xs-6\"></div>');\n        btn.attr('ng-click', 'header.params.back.cb()');\n        btn.html(this.params.back.text);\n        backEl.append(btn);\n        mainEl.append(backEl);\n      }\n      if(this.params.avatar){\n        var avatarEl = angular.element(avatar);\n        avatarEl.addClass('text-center');\n        var img = angular.element('<img class=\"img-rounded\" width=64 height=32 />');\n        img.attr('src', this.params.avatar.url);\n        avatarEl.append(img);\n        //avatarEl.html(this.params.avatar.url);\n        mainEl.append(avatarEl);\n      }\n      if(this.params.forward){\n        var forwardEl = angular.element(forward);\n        var btn = angular.element('<div class=\"btn btn-warning col-xs-6 pull-right\"></div>');\n        btn.attr('ng-click', 'header.params.forward.cb()');\n        btn.html(this.params.forward.text);\n        forwardEl.append(btn);\n        mainEl.append(forwardEl);\n      }\n\n      $element.append($compile(mainEl)($scope));\n\n\n    }*/\n\n  }\n\n})();\n\n;(function(){\n  angular.module('triflix')\n  .component('triflixBoard', {\n    bindings: {\n      index: '@'\n    },\n    templateUrl: 'app/components/triflix-board/triflix-board.html',\n    controller: triflixBoardCtrl,\n    controllerAs: 'board'\n  });\n\n  triflixBoardCtrl.$inject = ['$element', '$compile', '$scope', 'Game',\n  '$rootScope', '$uibModal', 'TEAMS', 'SocketService'];\n\n  function triflixBoardCtrl($element, $compile, $scope, Game, $rootScope, $uibModal,\n    TEAMS, SocketService){\n    var game, self = this;\n\n    this.$onInit = function(){\n      self.userMove = true;\n      Game.lockBoard = true;\n      Game.reset();\n      game = Game.getStatus();\n      this.game = game;\n      if(SocketService.getOpponent()){\n        SocketService.on('make move', function(opponentMove){\n          $scope.$apply(function(){\n            game.state[opponentMove] = game.team === TEAMS.X ? TEAMS.O : TEAMS.X;\n          })\n        });\n      }\n    }\n\n    this.makeMove = function(x, y){\n      var flatCoordinate = Game.flatCoordinate(x, y);\n      if(Game.lockBoard){\n        return;\n      }\n      if(game.state[flatCoordinate] === TEAMS.EMPTY && self.userMove){\n        self.userMove = false;\n        game.state[flatCoordinate] = game.team;\n        Game.opponentMove(game, flatCoordinate)\n        .then(function(resp){\n          _.extend(game, resp.data);\n          self.userMove = true;\n          if(game.winner.team){\n            $rootScope.$emit('triflix.game.victory');\n            openModal('victoryModal', function(dismissed){\n              Game.reset();\n              $rootScope.$emit('triflix.game.start');\n            });\n          }\n\n        })\n        .catch(function(error){\n          if(error.message === 'draw'){\n            openModal('victoryModal', function(dismissed){\n              Game.reset();\n              $rootScope.$emit('triflix.game.start');\n              self.userMove = true;\n            });\n          } else{\n            console.log(error);\n          }\n        })\n      }\n    }\n\n\n    this.$postLink = function(){}\n\n    var openModal = function(component, callback){\n      var modal = $uibModal.open({\n        animation: true,\n        component: component,\n        resolve: {\n          game: [function(){\n            return self.game;\n          }]\n        }\n      })\n      modal.result.catch(callback)\n    }\n  }\n})();\n\n;(function(){\n  angular.module('triflix')\n  .component('panelContainer', {\n    bindings: {\n    },\n    controller: panelContainerCtrl,\n    controllerAs: 'panel'\n  });\n\n  panelContainerCtrl.$inject = ['$element', '$scope', '$rootScope', '$templateCache', '$compile',\n   '$window', '$timeout'];\n\n  function panelContainerCtrl($element, $scope, $rootScope, $templateCache, $compile,\n    $window, $timeout){\n\n\n      var width, height, leftPos;\n\n      function initWindow(){\n        width = window.innerWidth\n        || document.documentElement.clientWidth\n        || document.body.clientWidth;\n\n        height = window.innerHeight\n        || document.documentElement.clientHeight\n        || document.body.clientHeight;\n      }\n      initWindow();\n\n      this.$onInit = function(){\n        $element.css('position', 'absolute');\n        $element.css('width', width);\n        $element.css('height', height);\n        $element.css('top', '0px');\n        $element.css('left', -width + 'px');\n      }\n\n      var panels = [];\n      $rootScope.$on('triflix.addpanel', function(evt, params){\n        var elem = angular.element('<div></div>');\n        elem.css('float', 'left');\n        elem.css('width', width);\n        elem.css('height', height);\n\n        if(params.controller ){\n          var ctrl = angular.element('<div></div>');\n          ctrl.attr('ng-controller', params.controller);\n          var template = $templateCache.get(params.templateUrl);\n          ctrl.append(angular.element(template));\n          elem.append(ctrl);\n        }\n        else if(params.component){\n          var component = '<' + params.component + '></' + params.component + '>';\n          elem.append(component);\n        }\n\n        var newScope = $rootScope.$new();\n        newScope.prototype = params.scope;\n        newScope.$close = function(){\n          var index = panels.indexOf(panel);\n\n          panels.splice(index, 1);\n          panel.scope().$destroy();\n\n\n          var leftPos = panels.length ? -width * (panels.length - 1) : 0;\n          /*$element.animate({\n            left: leftPos\n          }, 1000, function(){\n            $timeout(function(){\n              panel.remove();\n              $element.css('width', width * panels.length);\n            }, 3000);\n          });*/\n          $element.css('left', leftPos);\n          $timeout(function(){\n            panel.remove();\n            $element.css('width', width * panels.length);\n          }, 500);\n\n        }\n        var panel = $compile(elem)(newScope);\n        panels.push(panel);\n\n        $element.parent().css('position', 'relative');\n        $element.parent().css('overflow-x', 'hidden');\n        $element.parent().css('width', width);\n        $element.parent().css('height', height);\n\n        $element.css('width', width * panels.length);\n        $element.append(panel);\n        var leftPos = -width * (panels.length - 1);\n        /*$element.animate({\n          left: leftPos\n        }, 1000);*/\n        $element.css('left', leftPos);\n\n      });\n\n      this.$postLink = function(){\n        angular.element($window).on('resize', recalculateSize);\n      }\n\n      function recalculateSize(){\n        initWindow();\n        panels.forEach(function(panel){\n          panel.css('height', height);\n          panel.css('width', width);\n        })\n\n        $element.css('height', height);\n        $element.css('width', width * panels.length);\n        $element.css('left', (- width * (panels.length - 1)));\n        $element.parent().css('height', height);\n        $element.parent().css('width', width);\n      }\n  }\n})();\n\n(function(){\n  'use strict';\n\n  angular.module('triflix')\n  .controller('HomeController', homeController);\n\n  homeController.$inject = ['$scope', 'PanelService', '$timeout'];\n\n  function homeController($scope, PanelService, $timeout){\n    $timeout(function(){\n      PanelService.open({\n        component: 'login',\n        scope: $scope\n      });\n    })\n\n  }\n})();\n\n;(function(){\n  angular.module('triflix')\n  .directive('svgIcon', svgIconDirective)\n  .service('svgIconService', svgIconService);\n\n  svgIconDirective.$inject = ['svgIconService', 'ANIMATIONS'];\n  svgIconService.$inject = [];\n\n\n  function svgIconDirective(svgIconService, ANIMATIONS){\n    var ddo = {\n      link: function(scope, elem, attrs){\n        attrs.$observe('svgIcon', function(icon){\n          var svg = svgIconService.getIcons()[icon];\n          if(svg){\n            svg = angular.element(svg);\n            svg.css('width', attrs.width ? attrs.width + 'px' : '64px');\n            var animation = ANIMATIONS[icon.charAt(0)];\n            svg.attr('class','animated '+animation);\n            elem.replaceWith(svg);\n          }\n        })\n      }\n    }\n    return ddo;\n  }\n\n  function svgIconService(){\n    var ICONS = {\n      'X-icon': \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><polygon fill='#DB9E36' fill-rule='nonzero' points='100 11.5399943 88.4595969 0 50.0001022 38.4599035 11.5404031 0 0 11.5399943 38.4596991 50.0001022 0 88.4595969 11.5406074 100 50.0001022 61.5403009 88.4595969 100 99.9997956 88.4595969 61.5403009 50.0001022'></polygon></svg>\",\n      'O-icon': \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle stroke='#DC3522' stroke-width='14' fill='transparent' cx='50' cy='50' r='43' /></svg>\"\n    }\n    this.getIcons = function(){\n      return ICONS;\n    }\n  }\n\n})();\n\n;(function(){\n  angular.module('triflix')\n  .directive('selectOption', ['GameSettings', function(GameSettings){\n    /*paint the background of a selected option in the setting panel */\n    var ddo = {\n      scope: {\n        option: '@selectOption',\n        value: '=selectOptionValue'\n      },\n      link: function(scope, elem, attrs){\n        if(_.isEqual(GameSettings.getSettings()[scope.option], scope.value))\n          elem.addClass('settings__content__el__selected');\n\n        elem.on('click', function(){\n          var options = elem.siblings();\n          options.removeClass('settings__content__el__selected');\n          elem.addClass('settings__content__el__selected');\n        })\n\n      }\n    }\n    return ddo;\n  }])\n\n})();\n\n;(function(){\n  angular.module('triflix')\n  .directive('refreshBoard', ['$rootScope', function($rootScope){\n    var ddo = {\n      link: function(scope, elem, attrs){\n        /*remove all the classes and icons from the board everytime you start the game*/\n\n        var unwatch = $rootScope.$on('triflix.game.start', function(){\n          elem.children().removeClass('board__cell--selected board__cell--o board__cell--x');\n          angular.forEach(elem.children(), function(child){\n            $(child).find('.icon').remove();\n          })\n        })\n\n        scope.$on('$destroy', function(){\n          unwatch();\n        })\n      }\n    }\n    return ddo;\n  }])\n})();\n\n;(function(){\n  angular.module('triflix')\n  .directive('paintCell', ['Game', '$compile', 'ANIMATIONS',\n    function(Game, $compile, ANIMATIONS){\n    /*paint a single cell on the board*/\n    var ddo = {\n      scope: {\n        cell: '=paintCell',\n        game: '='\n      },\n      link: function(scope, elem, attrs){\n        var icon = angular.element('<span class=\"icon animated {{iconEffect}}\"></span>');\n\n        scope.$watch('cell', function(newVal){\n          if(!newVal) return;\n          scope.iconEffect = ANIMATIONS[scope.cell] || 'bounceIn';\n          elem.removeClass('board__cell--x board__cell--o');\n          elem.addClass('board__cell--selected board__cell--'+scope.cell.toLowerCase());\n          elem.append($compile(icon)(scope));\n\n        })\n\n\n      }\n    }\n    return ddo;\n  }])\n\n\n\n})();\n\n;(function(){\n  angular.module('triflix')\n  .directive('lockBoard', ['$uibModal', 'Game', '$rootScope', function($uibModal, Game, $rootScope){\n\n    /*Lock the board until you choose a team through the ChooseTeam modal component*/\n\n    var ddo = {\n      link: function(scope, elem, attrs){\n        elem.on('click', fn);\n        function fn(evt){\n          /*var modal = $uibModal.open({\n            animation: true,\n            component: 'chooseTeamModal',\n            backdrop: 'static',\n            resolve: {}\n          });\n          modal.result.then(function(res){\n            elem.off('click', fn);\n            Game.lockBoard = false; //unlock board\n            $rootScope.$emit('triflix.game.start');\n          })\n          .catch(function(res){\n\n          })*/\n          elem.off('click', fn);\n          Game.lockBoard = false; //unlock board\n          $rootScope.$emit('triflix.game.start');\n        }\n\n      }\n\n\n    }\n    return ddo;\n  }])\n\n})();\n\n;(function(){\n  angular.module('triflix')\n  .service('UserService', UserService);\n\n  UserService.$inject = ['$http', 'ApiPath'];\n\n  function UserService($http, ApiPath){\n\n    var user;\n\n    this.getUser = function(){\n      return user;\n    }\n\n\n    this.user = function(){\n      return $http({\n        method: 'GET',\n        url: ApiPath.getUser.remote,\n      }).then(function(resp){\n        if(!resp.data.error)\n          user = resp.data;\n        return resp;\n      }, function(err){\n        return err;\n      });\n    };\n  }\n})();\n\n;(function(){\n\n  angular.module('triflix')\n  .factory('TicTacToeWrapper', ['LEVELS', 'TEAMS', function(LEVELS, TEAMS){\n\n    function makeMove(game){\n      var tictactoe = new TicTacToe.TicTacToeBoard(game.state);\n      var aiPlayer = new TicTacToe.TicTacToeAIPlayer();\n      var aiTeam = tictactoe.oppositePlayer(game.team);\n      aiPlayer.initialize(aiTeam, tictactoe);\n      if(!_.isEqual(game.level, LEVELS.IMPOSSIBLE) && this.errors < game.level.errors){\n        var randomCell = getRandomCell(game);\n        tictactoe.board[randomCell] = aiTeam;\n        this.errors++;\n      }\n      else{\n        var move = aiPlayer.makeMove();\n        if(move != null){\n          tictactoe.makeMove(aiTeam, move);\n        } else {\n          throw new Error('invalid move');\n        }\n      }\n      var winner = tictactoe.winner();\n      return {\n        data: {\n          team: game.team,\n          state: tictactoe.board,\n          winner: {\n            team: winner ? winner.cell : '',\n            indexes: winner ? winner.indexes : []\n          }\n        }\n      }\n    }\n\n    function getRandomCell(game){\n      var found = false,\n          cell;\n      while(!found){\n        cell = _.random(0, 8);\n        found = game.state[cell] === TEAMS.EMPTY ? true : false;\n      }\n\n      return cell;\n    }\n\n    return function(){\n      this.errors = 0;\n      this.makeMove = makeMove;\n    }\n\n\n  }])\n\n\n})();\n\n;(function(){\n  angular.module('triflix')\n    .factory('httpInterceptor', httpInterceptor);\n\n    httpInterceptor.$inject = ['$location'];\n    var authHeader = 'x-auth';\n    function httpInterceptor($location){\n      return {\n        request: function(config){\n          var auth = window.localStorage.getItem(authHeader);\n          if(auth)\n            config.headers[authHeader] = auth;\n          return config;\n        },\n        response: function(response){\n          var auth = response.headers()[authHeader];\n          if(auth)\n            window.localStorage.setItem(authHeader, auth);\n          return response;\n        },\n        responseError: function(response){\n          return response;\n        }\n      }\n    }\n\n})();\n\n;(function(){\n  angular.module('triflix')\n  .service('GameSettings', GameSettings);\n\n  GameSettings.$inject = ['TEAMS', 'LEVELS', '$rootScope'];\n  /*setting panel for the game*/\n\n  function GameSettings(TEAMS, LEVELS, $rootScope){\n\n    var settings = fetchSettings();\n\n    this.setTeam = function(team){\n      settings.team = TEAMS[team.toUpperCase()] || TEAMS.X;\n      $rootScope.$emit('triflix.game.change.settings');\n      persistSettings();\n    }\n    this.setLevel = function(level){\n      settings.level = LEVELS[level.toUpperCase()] || LEVELS.IMPOSSIBLE;\n      $rootScope.$emit('triflix.game.change.settings');\n      persistSettings();\n    }\n    this.getSettings = function(){\n      return settings;\n    }\n\n    function persistSettings(){\n      localStorage.setItem('settings', angular.toJson(settings));\n    }\n    function fetchSettings(){\n      var fetchedSettings = localStorage.getItem('settings');\n      if(fetchedSettings){\n        return angular.fromJson(fetchedSettings);\n      } else{\n        return {\n          team: TEAMS.X,\n          level: LEVELS.IMPOSSIBLE,\n          sound: 'off'\n        }\n      }\n    }\n\n  }\n})();\n\n;(function(){\n  angular.module('triflix')\n  .service('Game', Game);\n\n  Game.$inject = ['$http', 'TEAMS', 'LEVELS', 'GameSettings', '$timeout', 'ApiPath', '$q',\n   'SocketService', '$rootScope', 'TicTacToeWrapper'];\n\n  function Game($http, TEAMS, LEVELS, GameSettings, $timeout, ApiPath, $q, SocketService,\n    $rootScope, TicTacToeWrapper){\n\n    var ticTacToeWrapper;\n    game = {};\n    game.team = GameSettings.getSettings().team;\n    game.level = GameSettings.getSettings().level;\n    game.state = ['','','','','','','','',''];\n    game.winner = {};\n    this.lockBoard = true;\n\n\n    var AImove = function(game){\n      var deferred = $q.defer();\n      $timeout(function(){\n        try{\n          if(!hasEmptySlots(game.state)){\n            return deferred.reject(new Error('draw'));\n          }\n          var result = ticTacToeWrapper.makeMove(game);\n          deferred.resolve(result);\n        }\n        catch(error){\n          deferred.reject(error);\n        }\n      }, 800);\n      return deferred.promise;\n    }\n\n    var multiplayerMove = function(game, lastMove){\n      return SocketService.makeMove(game, lastMove);\n    }\n    this.opponentMove = function(game, lastMove){\n      if(SocketService.getOpponent()){\n        return multiplayerMove(game, lastMove);\n      } else{\n        return AImove(game);\n      }\n\n    }\n\n    this.reset = function(){\n      game.state = ['','','','','','','','',''];\n      game.winner = {};\n      ticTacToeWrapper = new TicTacToeWrapper();\n    }\n\n    this.flatCoordinate = function(x, y){\n      return x + (y * 3);\n    }\n\n    this.getStatus = function(){\n      return game;\n    }\n\n    var hasEmptySlots = function(state){\n      var foundOne = _.find(state, function(cell){return cell === TEAMS.EMPTY});\n      return foundOne !== undefined ? true : false;\n    }\n\n\n    /* events */\n    $rootScope.$on('triflix.game.change.settings', function(evt, data){\n      game.team = GameSettings.getSettings().team;\n      game.level = GameSettings.getSettings().level;\n    })\n  }\n})();\n\n;(function(){\n  angular.module('triflix')\n  .service('SocketService', SocketService);\n\n  SocketService.$inject = ['ApiPath', '$timeout', '$q', 'TEAMS', '$rootScope'];\n\n  function SocketService(ApiPath, $timeout, $q, TEAMS, $rootScope){\n\n    var socket, opponent;\n    this.initSocket = function(){\n      if(!window.io)\n        return console.log('socket.io not loaded');\n      if(!socket){\n        socket = io.connect(ApiPath.multiplayer.remote);\n        this.on('disconnect', function(){\n          socket = null;\n        })\n      }\n    }\n    this.emit = function(evt, data){\n      socket.emit(evt, data);\n    }\n    this.on = function(evt, clb){\n      socket.on(evt, clb);\n    }\n    this.getSocketId = function(){\n        return socket.id;\n    }\n    this.chooseOpponent = function(challenger){\n      opponent = challenger;\n    }\n\n    this.getOpponentSocketFromValue = function(opponent, users){\n      var opponentSocketId = -1;\n      _.mapObject(users, function(user, socketId){\n        if(user.userId === opponent.userId)\n          opponentSocketId = socketId;\n      });\n      return opponentSocketId;\n    }\n\n    this.getOpponent = function(){\n      return opponent;\n    }\n\n    this.makeMove = function(game, myLastMove){\n      var deferred = $q.defer();\n      socket.emit('make move', {move: myLastMove, opponent: opponent});\n      deferred.resolve({data: game});\n      /*socket.on('make move', function(opponentMove){\n        $rootScope.$apply(function(){\n          game.state[opponentMove] = game.team === TEAMS.X ? TEAMS.O : TEAMS.X;\n          deferred.resolve({data: game});\n        })\n      })*/\n      return deferred.promise;\n    }\n\n\n  }\n})();\n\n;(function(){\n  angular.module('triflix')\n  .config(config);\n\n  config.$inject = ['$stateProvider', '$urlRouterProvider', '$httpProvider'];\n  function config($stateProvider, $urlRouterProvider, $httpProvider){\n    $httpProvider.defaults.withCredentials = true;\n    $httpProvider.interceptors.push('httpInterceptor');\n\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/home/home.html',\n        controller: 'HomeController as homeCtrl'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n})();\n\nangular.module(\"triflix\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/home/home.html\",\"<div class=panelParent><panel-container class=panel-container></panel-container></div><!--\\n\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" style=\\\"display: none\\\">\\n\\n  <symbol id=\\\"o\\\" viewBox=\\\"0 0 100 100\\\">\\n    <circle cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"43\\\" />\\n  </symbol>\\n\\n  <symbol id=\\\"x\\\" viewbox=\\\"0 0 100 100\\\">\\n    <polygon fill-rule=\\\"nonzero\\\" points=\\\"100 11.5399943 88.4595969 0 50.0001022 38.4599035 11.5404031 0 0 11.5399943 38.4596991 50.0001022 0 88.4595969 11.5406074 100 50.0001022 61.5403009 88.4595969 100 99.9997956 88.4595969 61.5403009 50.0001022\\\"></polygon>\\n  </symbol>\\n\\n</svg>\\n\\n-->\");\n$templateCache.put(\"app/components/triflix-board/triflix-board.html\",\"<div class=col-sm-12><div class=header><h1>TicTacToe</h1><p ng-if=board.userMove>It\\'s <b>your</b> turn</p><p ng-if=!board.userMove><b>AI</b> turn</p><!--<p>Cras ultricies ligula sed magna dictum porta.</p>--></div></div><div lock-board><div class=board refresh-board><div ng-click=board.makeMove(0,0) paint-cell=board.game.state[0] game=board.game class=\\\"board__cell board__cell--selected board__cell--o\\\"><span class=\\\"icon animated bounceIn\\\"></span></div><div ng-click=board.makeMove(0,1) paint-cell=board.game.state[3] game=board.game class=board__cell></div><div ng-click=board.makeMove(0,2) paint-cell=board.game.state[6] game=board.game class=\\\"board__cell board__cell--selected board__cell--x\\\"><span class=\\\"icon animated tada\\\"></span></div><div ng-click=board.makeMove(1,0) paint-cell=board.game.state[1] game=board.game class=board__cell></div><div ng-click=board.makeMove(1,1) paint-cell=board.game.state[4] game=board.game class=board__cell></div><div ng-click=board.makeMove(1,2) paint-cell=board.game.state[7] game=board.game class=board__cell></div><div ng-click=board.makeMove(2,0) paint-cell=board.game.state[2] game=board.game class=board__cell></div><div ng-click=board.makeMove(2,1) paint-cell=board.game.state[5] game=board.game class=board__cell></div><div ng-click=board.makeMove(2,2) paint-cell=board.game.state[8] game=board.game class=board__cell></div></div></div>\");\n$templateCache.put(\"app/components/triflix-header/triflix-header.html\",\"<div class=\\\"col-sm-12 triflix-header\\\"><div class=\\\"col-xs-4 triflix-header--button\\\" ng-click=header.handler.back() ng-show=header.params.back><i class=\\\"fa fa-arrow-left\\\" aria-hidden=true></i> <span>Back</span></div><div class=\\\"col-xs-4 text-center\\\"><img ng-show=header.avatar ng-src={{header.avatar}} width=32 height=24 class=img-circle alt=\\\"no img\\\"></div><div class=\\\"col-xs-4 triflix-header--button\\\" ng-click=header.handler.forward() ng-show=header.params.forward><div class=pull-right><i class=\\\"fa fa-arrow-right\\\" aria-hidden=true></i> <span>Forward</span></div></div></div>\");\n$templateCache.put(\"app/components/modals/confirm/confirm.html\",\"<div class=triflix-modal><div class=triflix-modal--header><h3 class=triflix-modal--header--title>Heading</h3></div><div class=triflix-modal--body><h2>{{confirm.resolve.text}}</h2><button style=\\\"width: 25%\\\" class=\\\"btn btn-success\\\" ng-click=confirm.resolve.okCb()>Ok</button> <button style=\\\"width: 25%\\\" class=\\\"btn btn-danger\\\" ng-click=confirm.resolve.cancelCb()>Cancel</button></div></div>\");\n$templateCache.put(\"app/components/modals/choose-team/choose-team.html\",\"<div class=triflix-modal><div class=triflix-modal--header><h3 class=triflix-modal--title>Choose a team</h3></div><div class=triflix-modal--body><div ng-repeat=\\\"team in chooseTeam.teams\\\" ng-click=chooseTeam.choose(team) style=display:inline><span svg-icon={{team}}-icon width=64></span></div></div></div>\");\n$templateCache.put(\"app/components/modals/victory/victory.html\",\"<div class=triflix-modal><div class=triflix-modal--header><h3 ng-if=$ctrl.winner.team class=triflix-modal--title>We have a winner</h3><h3 ng-if=!$ctrl.winner.team class=triflix-modal--title>Draw :(</h3></div><div ng-if=$ctrl.winner.team class=triflix-modal--body>Player <span svg-icon={{$ctrl.winner.team}}-icon width=32></span> win the game</div><div ng-if=!$ctrl.winner.team class=triflix-modal--body>Play again!</div></div><!--<div class=\\\"modal-header\\\">\\n    <h3 class=\\\"modal-title\\\" id=\\\"modal-title\\\">I\\'m a modal!</h3>\\n</div>\\n<div class=\\\"modal-body\\\" id=\\\"modal-body\\\">\\n    <ul>\\n        <li ng-repeat=\\\"item in $ctrl.items\\\">\\n            <a href=\\\"#\\\" ng-click=\\\"$event.preventDefault(); $ctrl.selected.item = item\\\">{{ item }}</a>\\n        </li>\\n    </ul>\\n    Selected: <b>{{ $ctrl.selected.item }}</b>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.ok()\\\">OK</button>\\n    <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.cancel()\\\">Cancel</button>\\n</div>-->\");\n$templateCache.put(\"app/components/panels/board/board.html\",\"<triflix-header params=board.params ng-if=board.params></triflix-header><triflix-board class=col-sm-12 index=0></triflix-board>\");\n$templateCache.put(\"app/components/panels/login/login.html\",\"<div class=\\\"container login\\\"><div class=row><div class=\\\"col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-4 text-center\\\"><div ng-repeat=\\\"team in login.teams\\\" style=\\\"display: inline\\\"><span svg-icon={{team}}-icon width=64></span></div></div></div><div class=row style=\\\"margin-top: 30px\\\" ng-click=login.continueNotLogged()><div class=\\\"col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-4 text-center login--button login--button--local\\\">Local game</div></div><div class=\\\"row login--button\\\"><div class=\\\"col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-4 text-center login--button login--button--facebook\\\" ng-click=login.loginWithFacebook()>Multiplayer game <a class=\\\"btn btn-social-icon btn-facebook\\\" style=\\\"height: 32px\\\"><span class=\\\"fa fa-facebook\\\"></span></a></div></div><div class=\\\"row login--button\\\"><div class=\\\"col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-4 text-center login--button login--button--realtime\\\">realtime game</div></div><div class=\\\"row login--button\\\" ng-click=login.openSettings()><div class=\\\"col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-4 text-center login--button login--button--settings\\\">settings</div></div></div><!--\\nhttp://localhost:3002/auth/facebook\\nhttps://triflixbe.herokuapp.com/auth/facebook\\n-->\");\n$templateCache.put(\"app/components/panels/multiplayer/multiplayer.html\",\"<triflix-header params=multiplayer.params></triflix-header><div class=\\\"container multiplayer\\\"><div class=row><div class=col-sm-12><h1>Multiplayer</h1></div></div><div class=row><div class=\\\"col-sm-6 multiplayer--box\\\" ng-repeat=\\\"user in multiplayer.usersOnline\\n    track by $index\\\" ng-click=multiplayer.chooseOpponent(user)><div class=card><img ng-src={{user.data.img}} alt=\\\"no img\\\" class=card__img> <span class=multiplayer--name class=card__name>{{user.data.name}}</span> <button class=card__cta>Invite</button></div></div></div></div>\");\n$templateCache.put(\"app/components/panels/settings/settings.html\",\"<triflix-header params=settings.params></triflix-header><div class=\\\"container settings\\\"><div class=row><div class=col-sm-12><h1>Settings <i class=\\\"fa fa-gamepad\\\" aria-hidden=true></i></h1></div></div><div class=\\\"row settings__bordered\\\"><div class=col-xs-2><div class=settings__head>Team</div></div><div class=col-xs-10><div class=\\\"settings__content pull-right\\\"><div class=settings__content__el select-option=team select-option-value=TEAM ng-repeat=\\\"TEAM in settings.teams\\\" ng-if=\\\"TEAM !== \\'\\'\\\" ng-click=\\\"settings.applySetting(\\'team\\', TEAM)\\\"><span svg-icon={{TEAM}}-icon width=64></span></div></div></div></div><div class=\\\"row settings__bordered\\\"><div class=col-xs-2><div class=settings__head>Level</div></div><div class=col-xs-10><div class=\\\"settings__content pull-right\\\"><div class=settings__content__el select-option=level select-option-value=LEVEL ng-repeat=\\\"(key, LEVEL) in settings.levels\\\" ng-click=\\\"settings.applySetting(\\'level\\', key)\\\"><span>{{LEVEL.label}}</span></div></div></div></div><div class=\\\"row settings__bordered\\\"><div class=col-xs-2><div class=settings__head>Sound</div></div><div class=col-xs-10><div class=\\\"settings__content pull-right\\\"><div class=settings__content__el select-option=sound select-option-value=SOUND ng-repeat=\\\"SOUND in [\\'on\\', \\'off\\']\\\" ng-click=\\\"settings.applySetting(\\'sound\\', SOUND)\\\"><span>{{SOUND}}</span></div></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}